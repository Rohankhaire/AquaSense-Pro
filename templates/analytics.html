<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PureCast | Historical Trends</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="min-h-screen p-4 md:p-8 selection:bg-teal-500 selection:text-white">

    <div class="max-w-7xl mx-auto space-y-6">

        <!-- HEADER -->
        <header
            class="glass-header rounded-2xl p-6 shadow-2xl flex flex-col md:flex-row justify-between items-center animate-enter">
            <div class="flex items-center space-x-4">
                <a href="/"
                    class="p-3 bg-teal-500/10 rounded-full hover:bg-teal-500/20 transition border border-teal-500/20">
                    <svg class="w-6 h-6 text-teal-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                </a>
                <div>
                    <h1
                        class="text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 tracking-tight">
                        Trends & Analytics</h1>
                    <p class="text-sm text-gray-400 font-light">30-Day Historical Data Analysis</p>
                </div>
            </div>
            <div class="mt-4 md:mt-0">
                <span class="px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300 border border-white/5">Station:
                    Varanasi (Ganga)</span>
            </div>
        </header>

        <main class="grid grid-cols-1 lg:grid-cols-2 gap-6 animate-enter" style="animation-delay: 0.1s;">

            <!-- Primary Trend Chart -->
            <section class="glass-card p-6 lg:col-span-2">
                <h2 class="text-xl font-bold text-white mb-4">Water Quality Index (30 Days)</h2>
                <div class="h-80">
                    <canvas id="monthlyChart"></canvas>
                </div>
            </section>

            <!-- Parameter Correlation 1 -->
            <section class="glass-card p-6">
                <h2 class="text-lg font-bold text-teal-300 mb-4">Turbidity vs. Dissolved Oxygen</h2>
                <div class="h-64">
                    <canvas id="correlationChart1"></canvas>
                </div>
                <p class="text-xs text-gray-400 mt-2 text-center">Negative Correlation: As turbidity rises, oxygen
                    typically falls.</p>
            </section>

            <!-- Parameter Heatmap (Visual Representation) -->
            <section class="glass-card p-6">
                <h2 class="text-lg font-bold text-blue-300 mb-4">Pollution Heatmap (Weekly)</h2>
                <div class="grid grid-cols-7 gap-2 content-center h-64" id="heatmapGrid">
                    <!-- JS will populate this -->
                </div>
                <div class="flex justify-between text-xs text-gray-500 px-2 mt-2">
                    <span>Low Risk</span>
                    <span>High Risk</span>
                </div>
            </section>

            <!-- Key Insights Panel -->
            <section class="glass-card p-6 lg:col-span-2">
                <h2 class="text-xl font-bold text-white mb-3 flex items-center">
                    <svg class="w-5 h-5 mr-2 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    Monthly Insights
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-emerald-500/10 border border-emerald-500/30 p-4 rounded-xl">
                        <span class="text-2xl block mb-1 text-emerald-400 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5">
                                </path>
                            </svg>
                            Best Day
                        </span>
                        <span class="text-sm text-gray-300">Feb 01 - WQI 88 (Excellent)</span>
                    </div>
                    <div class="bg-red-500/10 border border-red-500/30 p-4 rounded-xl">
                        <span class="text-2xl block mb-1 text-red-400 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.095c.5 0 .905-.405.905-.905 0-.714.211-1.412.608-2.006L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5">
                                </path>
                            </svg>
                            Worst Day
                        </span>
                        <span class="text-sm text-gray-300">Jan 14 - WQI 42 (Poor)</span>
                    </div>
                    <div class="bg-blue-500/10 border border-blue-500/30 p-4 rounded-xl">
                        <span class="text-2xl block mb-1 text-blue-400 flex items-center">
                            <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                            </svg>
                            Trend
                        </span>
                        <span class="text-sm text-gray-300">Quality improving (+5%) since last week.</span>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script src="{{ url_for('static', filename='js/analytics.js') }}"></script>
</body>

</html>